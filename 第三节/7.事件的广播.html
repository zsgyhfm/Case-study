<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件广播</title>
</head>
<body>
<div id="app">
    <button id="obj">按钮obj</button>
    <button id="test">按钮test</button>
</div>
<script>
    /**
     *
     * @type {Event}
     */
   // 1.创建event对象参数必须是HTMLEvents
    var event1 = document.createEvent('HTMLEvents');
    //2.参数分别是  "自定义的事件类型" 是否冒泡   是否阻止浏览器默认事件
    event1.initEvent('li', true, true);
    document.addEventListener('li', function (e) {
        console.log('触发' + e.type);
    });
    //3.特别需要注意的事情是 只能使用公共对象才能在按钮的事件中发送事件  否则就提示事件已经被执行,或许是不支持多线程把(现在不清楚)
    obj.addEventListener('click', function () {
        document.dispatchEvent(event1)
    })

</script>
</body>
</html>