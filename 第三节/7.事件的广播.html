<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件广播</title>
</head>
<body>
<div id="app">
    <button id="obj">按钮obj</button>
    <button id="test">按钮test</button>
</div>
<script>
    /**
     * 1.蠢哭了   event是关键字不能作为变量 否则特么的  自定的事件发送 报错 提示事件已经触发
     * 2.可以用来跨页面传递数据
     * @type {Element}
     */
    var obj = document.getElementById('obj');
    var test = document.getElementById('test');
    //1.创建事件对象
    var ddd = document.createEvent('HTMLEvents');
    ddd.initEvent('dd', true, true);
    ddd.pp = '你好';//可以自定义参数 赋值 可以达到
    //2.绑定事件
    test.addEventListener('dd', function (e) {
//        alert('触发了' + e.type + '事件');
        alert(e.pp);
    })
    document.addEventListener('dd', function () {
        console.log('触发document')
    })
    obj.addEventListener('click', function () {
        test.dispatchEvent(ddd);//发送一次通知 所有绑定这个事件的都会被执行绑定的函数
//        document.dispatchEvent(ddd)
    })


</script>
</body>
</html>